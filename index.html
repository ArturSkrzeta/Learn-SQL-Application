	<!DOCTYPE HTML>

<html>
	<head>
		<title>Portfolio Artur Skrzeta</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Header -->
			<section id="header">
				<header>
					<span class="image avatar"><a href="https://arturskrzeta.github.io/"><img src="images/avatar.png" alt="" style="margin-bottom:0px;"/></a></span>
					<h1 id="logo"><a href="https://arturskrzeta.github.io/">Artur Skrzeta</a></h1>
					<p>Data Analyst<br />
					+4 years experience</p>
				</header>
				<nav id="nav">
					<ul>
						<li><a href="#one" class="active">Intro</a></li>
						<li><a href="#two">Features</a></li>
						<li><a href="#three">Demo</a></li>
						<li><a href="#four">Setup</a></li>
						<li><a href="#five">Source Code</a></li>
					</ul>
				</nav>
				<footer>
					<ul class="icons">
						<li><a href="https://www.linkedin.com/in/artur-skrz%C4%99ta-010b23187/" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li>
						<li><a href="https://www.instagram.com/arturskrrr/" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
						<li><a href="https://github.com/ArturSkrzeta" class="icon brands fa-github"><span class="label">Github</span></a></li>
						<li><a href="mailto: arturskrzeta@gmail.com" class="icon solid fa-envelope"><span class="label">Email</span></a></li
					</ul>
				</footer>
			</section>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">

						<!-- One -->
							<section id="one">
								<div class="container">
									<header class="major">
										<h2>Learn SQL Application</h2>

										<h3>Intro</h3>

										<p style="text-align: justify;">SQL is the declarative lanuguage which we use to say what we want to get and computer needs to figure out the computation tasks to provide quieried result.
											In this post I put my notes and examples that helps me to understand different aspects of SQL. There is also the application for learning SQL demonstrated in the <a href="#three"><u>Demo</u></a> section and its source code linked below.</p>

										<h5>In this section I describe following concepts:</h5>
										<ul>
											<a href="#index"><li>INDEX</li></a>
											<a href="#distinct"><li>DISTINCT</li></a>
											<a href="#join"><li>JOIN</li></a>
											<a href="#union"><li>UNION</li></a>
											<a href="#except"><li>EXCEPT</li></a>
											<a href="#intersect"><li>INTERSECT</li></a>
											<a href="#order_by"><li>ORDER BY</li></a>
											<a href="#limit"><li>LIMIT</li></a>
											<a href="#top"><li>TOP</li></a>
											<a href="#where"><li>WHERE</li></a>
											<a href="#case"><li>CASE</li></a>
											<a href="#group_by"><li>GROUP BY</li></a>
											<a href="#having"><li>HAVING</li></a>
											<a href="#in"><li>IN</li></a>
										</ul>

										<h5>Terminology and general aspects:</h5>
										<ul>
											<li><b>Primary key</b> - a field or fields combination that idetifies a specific row uniquely. It implicits NOT NULL constraint and hast to be UNIQUE.</li>
											<li><b>Foreign key</b> - it references primary key of another table bulding relationship between tables. It can be repeated in one to many relationship.
												<br><br>
												<table>
												<tr style="background-color: #223639; color: #ffff;">
													<td>
													customers<br>
													- <u>customer_id: <span style="color:#00ffea;">pk</span> integer</u><br>
													- phone: string<br>
													- email: string
													</td>
													<td>
													orders<br>
													- order_id: integer<br>
													- status: string<br>
													- <u>customer_id: <span style="color:#00ffea;">fk</span> integer</u>
													</td>
												</tr>
												</table>
												- In above example pk stands for primary key and fk stands for foreign key.<br>
												- In one to many relationship: one customer can have many orders, so we can find one customer multiple times in the orders table.<br>
												- As per one to many relationship, one order cannot have multiple customers.
											</li>
											<li><b>Normalization</b> - aiming for minimizing redundancy and dependency within tables.</li>
											<li><b>Denormaliaztion</b> - combining multiple tables into one for achieving fast data access.</li>
											<li>Db engine executes query in the sequence as below:
												<br>
												1. FROM, JOIN - it determines data table(s).<br>
												2. WHERE - records filtering.<br>
												3. GROUP BY - records grouping.<br>
												4. HAVING  - groups filtering.<br>
												5. SELECT - columns filtering.<br>
												6. ORDER BY - results sorting.<br>
											</li>
											<li>There are different types of SQL queries:
												<br>
												1. <b>DQL</b> - Data Query Language</b>:<br>
												&nbsp&nbsp&nbsp&nbsp&nbsp- SELECT.<br>
												2. <b>DML</b> – Data Manipulation Language:<br>
												&nbsp&nbsp&nbsp&nbsp&nbsp- INSERT, UPDATE, DELETE.<br>
												3. <b>DDL</b> – Data Definition Language:<br>
												&nbsp&nbsp&nbsp&nbsp&nbsp- CREATE, ALTER, DROP, RENAME, TRUNCATE.<br>
												4. <b>DCL</b> – Data Control Language:<br>
												&nbsp&nbsp&nbsp&nbsp&nbsp- GRANT, REVOKE.<br>
												5. <b>TCL</b> - Transaction Control Language:<br>
												&nbsp&nbsp&nbsp&nbsp&nbsp- COMMIT, ROLLBACK, SAVEPOINT.<br>
											</li>
										</ul>

										<h5 id="index">INDEX:</h5>
										<ul>
											<li>An index is used to speed up searching in the database by reducing records amount to be scanned.</li>
											<li>An index helps to speed up SELECT queries and WHERE clauses, but it slows down data input, with the UPDATE and the INSERT statements.</li>
											<li>Creating an index involves the CREATE INDEX statement, which allows you to name the index, to specify the table and which column or columns to index:
<!-- start -->
<pre>
CREATE INDEX index_name
ON table_name (column_name);
</pre>
<!-- end -->
											</li>
											<li>Updating a table with indexes takes more time than updating a table without (because the indexes also need an update).
													So, only create indexes on columns that will be frequently searched against.
											</li>
											<li>When not to use indexes:
												<br>
												- on small tables,<br>
												- on tables that have frequent, large updates or insert operations,<br>
												- on columns that contain a large number of NULLs,<br>
												- on columns that are frequently manipulated.<br>
											</li>
											<li>Here is how to use it:
												<br>
												- creating index:
<!-- start -->
<pre>
CREATE INDEX employees_last_name_idx
ON employees (<span style="background-color:#3976b3;">last_name</span>);
</pre>
<!-- end -->
												- using indexed column in the select query:
<!-- start -->
<pre>
SELECT *
FROM employees
WHERE salary > 10000 AND
    <span style="background-color:#3976b3;">last_name</span> = "Smith"
</pre>
<!-- end -->
												- we use <code>last_name</code> indexed column wihthin WHERE caluse along with <code>salary</code> which speeds up performing the query.<br>
												- It simply works like an index in the book where a specific sections or chapters ar indexed with their headings.
											</li>
										</ul>

										<p id="namespace" style="font-size:22px; border-bottom: 1px solid #cacaca; padding-bottom:10px; padding-top:50px;"><b>SELECT</b></p>

										<h5 id="distinct">DISTINCT</h5>
										<ul>
											<li>Using when we wan to get unique values from a given column.
<!-- start -->
<pre>
SELECT DISTINCT name
FROM students
</pre>
<!-- end -->
											</li>
										</ul>

										<h5 id="join">JOIN</h5>
										<ul>
											<li>Join is a keyword when quering more than one table based on the relationship between a specific columns of the joined tables.</li>
											<li>When using JOINs, keys play a very important role as we reference them on what column of one table matches what column in the another table.</li>
											<li>Inner join returns rows when there is at least one match of rows between the tables.</li>
											<li>Full Join returns all the rows from the left hand side table and all the rows from the right hand side table.</li>
											<li>Let's take two table schemas for an example:
												<br><br>
												<table>
												<tr style="background-color: #223639; color: #ffff;">
													<td>
													tblVideo<br>
													- video_id: pk integer<br>
													- author_id: integer<br>
													- video_duration: float
													</td>
													<td>
													tblView<br>
													- video_id: integer<br>
													- viewer_id: integer<br>
													- viewer_timewatch: float
													</td>
												</tr>
												</table>
											</li>
											<li>Lets answer fllowing questions with SQL:
												<br>
												<i><b>How many publishers have at least one viewer?</b></i>
<!-- start -->
<pre>
SELECT COUNT(DISTINCT vd.author_id)
FROM tblVideo vd
INNER JOIN tblView vw
ON vd.video_id = vw.video_id
</pre>
<!-- end -->
													- It doesn't count authors whose videos are not in the tblView.<br>
													- If I want to count disctinct author's id, I wouldn't need any JOINs and do select only on tblVideo.
											</li>
											<li id="order_by">LEFT JOIN:
												<br>
												- Here is the snippet of data schema:
												<br>
												<img src="images/sql_server.JPG" width="420"><span style="font-size:12px">source: toptal.com</span>
<!-- strat -->
<pre>
SELECT i.Id, i.BillingDate, c.Name, r.Name AS ReferredByName
FROM Invoices i
 LEFT JOIN Customers c ON i.CustomerId = c.Id
 LEFT JOIN Customers r ON c.ReferredBy = r.Id
ORDER BY i.BillingDate ASC;
</pre>
<!-- end -->
												- With LEFT JOIN we make sure that all the invoices will be returned no matter what (in case of any NULLs within Customers table).<br>
												- First LEFT JOIN joins customer id pk with customer id fk in the Invoices table.<br>
												- Second LEFT JOIN joins customer id pk with cusotmer id  fk in the Customer table.<br>
												- ORDER BY orders outcome by date. We can append ASC/DESC if ascending or descending ordering.
											</li>
											<li>We can join multiple tables:
<!-- start -->
<pre>
SELECT column1, column2
FROM TableA
JOIN TableB ON TableA.Column3 = TableB.Column3
JOIN TableC ON TableA.Column4 = TableC.Column4
</pre>
<!-- stop -->
											</li>
										</ul>

										<h5 id="union">UNION</h5>
										<ul>
											<li>Merges the contents of two structurally-compatible tables into a single combined table removing duplicated records.</li>
											<li>There is also UNION ALL that does the same things but keeps duplicated records.</li>
											<li>Performance of UNION ALL is better than UNION, since UNION requires the server to do the additional work of removing any duplicate.</li>
										</ul>

										<h5 id="except">EXCEPT</h5>
										<ul>
											<li>Allows to fetch values from one table that are not in another table.
<!-- start -->
<pre>
CREATE TABLE test_a(id INTEGER);
INSERT INTO test_a(id) VALUES (10);
INSERT INTO test_a(id) VALUES (20);
INSERT INTO test_a(id) VALUES (30);
INSERT INTO test_a(id) VALUES (40);
INSERT INTO test_a(id) VALUES (50);

CREATE TABLE test_b(id INTEGER);
INSERT INTO test_b(id) VALUES (10);
INSERT INTO test_b(id) VALUES (30);
INSERT INTO test_b(id) VALUES (50);

SELECT * FROM test_a
EXCEPT
SELECT * FROM test_b;

----------------------
20, 40
</pre>
<!-- end -->
												- 20 and 40 are the values that are not present in test_b table.
											</li>
										</ul>

										<h5 id="intersect">INTERSECT</h5>
										<ul>
											<li>Fetchs common records between two tables:
<!-- start -->
<pre>
SELECT * FROM EmployeeSalary
INTERSECT
SELECT * FROM ManagerSalary;
</pre>
<!-- end -->
											</li>
										</ul>

										<h5 id="limit">LIMIT</h5>
										<ul>
											<li>Limiting select query results to specific numbers of records:
<!-- start -->
<pre>
SELECT *
FROM (
	SELECT *
	FROM employees
	ORDER BY salary DESC )
LIMIT 10;
</pre>
<!-- end -->
												- We fetch 10 highest salaries in employees tabel.<br>
												- We use subquery meaning we emebd one select into another.
											</li>
										</ul>

										<h5 id="top">TOP</h5>
										<ul>
											<li>We can select x top records:
												<br>
												- let's assume we have customers table and the fields customer_id,<br>
												- let's fetch first 100 odd cutomer_id values,<br>
												- <span id="where">there, we use WHERE clause to filter fetch rows, this clause allows AND as well as OR operators,</span>
<!-- start -->
<pre>
SELECT TOP 100 customer_id
FROM customers
WHERE customer_id % 2 = 1
ORDER BY user_id
</pre>
<!-- end -->
												- Clause Were can also have BETWEEM operator:
<!-- start -->
<pre>
SELECT *
FROM employees
WHERE date_of_joining BETWEEN '2020/01/01' AND '2020/12/31';
</pre>
<!-- end -->
												- When it comes to dates, we can extract what we want:
<!-- start -->
<pre>
SELECT *
FROM employees
WHERE YEAR(date_of_joining) = '2020'
</pre>
<!-- end -->
											</li>
										</ul>

										<h5 id="group_by">GROUP BY</h5>
										<ul>
											<li>Groups rows when they have the same value in the field we indicate:
<!-- start -->
<pre>
SELECT COUNT(CustomerID), Country
FROM Customers
GROUP BY Country
HAVING COUNT(CustomerID) > 3;
</pre>
<!-- end -->
												- We count all customers for a specific country but we display countires where count is bigger than 3.<br>
												- We use GROUP BY when some aggregating function in select line like COUNT, SUM, AVERAGE.<br>
												- <span id="having">HAVING simply puts filter on COUNT(CustomerID) outcome column.</span>
<!-- start -->
<pre>
COUNT(CustomerID)	Country
9			Brazil
11			France
11			Germany
5			Mexico
5			Spain
7			UK
13			USA
4			Venezuela
</pre>
<!-- end -->
											</li>
											<li>WHERE vs HAVING:
												<br>
												- When GROUP BY is not used, then WHERE and HAVING clauses works the same.<br>
												- When  GROUP BY is used, then WHERE clause is used to filter records from a result and filtering works before any grouping. HAVING clause is used to filter values from a group.
											</li>
										</ul>


										<h5>Referencing to the same table more than once:</h5>
										<ul>
											<li>Here is the employees table:
												<br><br>
												<table style="font-size:16px;">
													<thead>
														<tr>
															<th>Emp_Id</th>
															<th>Emp_name</th>
															<th>Salary</th>
															<th>Manager_Id</th>
														</tr>
													</thead>
													<tbody>
														<tr>
															<td>10</td>
															<td>Anil</td>
															<td>50000</td>
															<td>18</td>
														</tr>
														<tr>
															<td>11</td>
															<td>Vikas</td>
															<td>75000</td>
															<td>16</td>
														</tr>
														<tr>
															<td>12</td>
															<td>Nisha</td>
															<td>40000</td>
															<td>18</td>
														</tr>
														<tr>
															<td>13</td>
															<td>Nidhi</td>
															<td>60000</td>
															<td>17</td>
														</tr>
														<tr>
															<td>14</td>
															<td>Priya</td>
															<td>80000</td>
															<td>18</td>
														</tr>
														<tr>
															<td>15</td>
															<td>Mohit</td>
															<td>45000</td>
															<td>18</td>
														</tr>
														<tr>
															<td>16</td>
															<td>Rajesh</td>
															<td>90000</td>
															<td>Null</td>
														</tr>
														<tr>
															<td>17</td>
															<td>Raman</td>
															<td>55000</td>
															<td>16</td>
														</tr>
														<tr>
															<td>18</td>
															<td>Santosh</td>
															<td>65000</td>
															<td>17</td>
														</tr>
													</tbody>
												</table>
											</li>
											<li>Lets fetch all rows with WHERE clause on <b>a.manager_id = b.emp_id</b>:
<!-- start -->
<pre>
SELECT *
FROM Employee a, Employee b
WHERE a.manager_id = b.emp_id
</pre>
<!-- end -->
												<table class="employees_query" style="font-size:16px;">
													<tbody>
														<tr>
															<td>10</td>
															<td>Anil</td>
															<td>50000</td>
															<td>18</td>
															<td>18</td>
															<td>Santosh</td>
															<td>65000</td>
															<td>17</td>
														</tr>
														<tr>
															<td>11</td>
															<td>Vikas</td>
															<td>75000</td>
															<td>16</td>
															<td>16</td>
															<td>Rajesh</td>
															<td>90000</td>
															<td>Null</td>
														</tr>
														<tr>
															<td>12</td>
															<td>Nisha</td>
															<td>40000</td>
															<td>18</td>
															<td>18</td>
															<td>Santosh</td>
															<td>65000</td>
															<td>17</td>
														</tr>
														<tr>
															<td>13</td>
															<td>Nidhi</td>
															<td>60000</td>
															<td>17</td>
															<td>17</td>
															<td>Raman</td>
															<td>55000</td>
															<td>16</td>
														</tr>
														<tr>
															<td>14</td>
															<td>Priya</td>
															<td>80000</td>
															<td>18</td>
															<td>18</td>
															<td>Santosh</td>
															<td>65000</td>
															<td>17</td>
														</tr>
														<tr>
															<td>15</td>
															<td>Mohit</td>
															<td>45000</td>
															<td>18</td>
															<td>18</td>
															<td>Santosh</td>
															<td>65000</td>
															<td>17</td>
														</tr>
														<tr>
															<td>17</td>
															<td>Raman</td>
															<td>55000</td>
															<td>16</td>
															<td>16</td>
															<td>Rajesh</td>
															<td>90000</td>
															<td>Null</td>
														</tr>
														<tr>
															<td>18</td>
															<td>Santosh</td>
															<td>65000</td>
															<td>17</td>
															<td>17</td>
															<td>Raman</td>
															<td>55000</td>
															<td>16</td>
														</tr>
													</tbody>
												</table>
												- Note there is no Rajesh in the outcome as he has no manager above him. Rajesh appears only as the manager for other employees.
											</li>
											<li>Let's group managers counting average salary:
<!-- start -->
<pre>
SELECT b.emp_id AS "Manager_Id", b.emp_name AS "Manager", AVG(b.salary) AS "Avg_Salary_Under_Manager"
FROM employees a, employees b
WHERE a.manager_id = b.emp_id
GROUP BY b.emp_id
ORDER BY b.emp_id;
</pre>
<!-- end -->
												<table style="font-size:16px;">
													<tbody>
														<tr>
															<th>Manager_Id</th>
															<th>Manager</th>
															<th>Average_Salary_Under_Manager</th>
														</tr>
														<tr>
															<td>16</td>
															<td>Rajesh</td>
															<td>65000</td>
														</tr>
														<tr>
															<td>17</td>
															<td>Raman</td>
															<td>62500</td>
														</tr>
														<tr>
															<td>18</td>
															<td>Santosh</td>
															<td>53750</td>
														</tr>
													</tbody>
												</table>
											</li>
										</ul>

										<p id="update" style="font-size:22px; border-bottom: 1px solid #cacaca; padding-bottom:10px; padding-top:50px;"><b>UPDATE</b></p>

										<h5 id="case">CASE</h5>
										<ul>
											<li>We can use Case to give some conditons:
												<br>
												- assuming we have tblTest table and Nmbr filed,<br>
												- tblTest has 50 rows and Nmbr field contains 1s and 0s,<br>
												- let's replace 1s with 11s and 0s with 10s:
<!-- start -->
<pre>
UPDATE tblTest SET Nmbr = case
 WHEN Nmbr = 0 THEN 10
 ELSE 11 END;
</pre>
<!-- end -->
											</li>
										</ul>

										<h5 id="in">IN</h5>
										<ul>
											<li>The IN operator allows to specify multiple values in a WHERE clause.</li>
											<li>If taken value 'Apple' is in one of given caolumns then we take rows into results.</li><br>
												<table style="font-size:16px;">
													<tr>
														<td>Id</td>
														<td>Col1</td>
														<td>Col2</td>
														<td>Col3</td>
													</tr>
													<tr>
														<td>1</td>
														<td>Apple</td>
														<td>Null</td>
														<td>Orange</td>
													</tr>
													<tr>
														<td>2</td>
														<td>Orange</td>
														<td>Apple</td>
														<td>Strawberry</td>
													</tr>
													<tr>
														<td>3</td>
														<td>Strawberry</td>
														<td>Apple</td>
														<td>Orange</td>
													</tr>
												</table>
<!-- start -->
<pre>
SELECT * FROM table
WHERE 'Apple' IN (Col1, Col2 Col3)
</pre>
<!-- end -->
											</li>
										</ul>

									</header>
								</div>
							</section>

						<!-- Two -->
							<section id="two">
								<div class="container">
									<h3>Features</h3>
									<p>App includes following features:</p>
									<ul class="feature-icons">
										<li class="icon solid fa-check">SQL</li>
									</ul>
								</div>
							</section>

						<!-- Three -->
							<section id="three">
								<div class="container">
									<h3>Demo</h3>

									<h5>Application:</h5>
									<img src="images/sql_learn.gif">
									<ul>
										<li>User click Get Questions button what pulls questions down to the application.</li>
										<li>Each question and answer is hidden. We can click on the proper links to unhide question.</li>
										<li>User can unhide question first, formulate its answer, then unhide the app's answer in order to comapre.</li>
									</ul>

									<h5>Features:</h5>
									<ul>
										<li>NodeJS - server-side API sevice to handle application's HTTP requests.</li>
										<li>MongoDB Atlas - server connects cloud data storage where I keep question-answer documents that are pulled to application.</li>
										<li>RactJS - front-end.</li>
										<li>ExpressJS - web framework that supports building API interfaces.</li>
									</ul>

								</div>
							</section>

						<!-- Four -->
							<section id="four">
								<div class="container">
									<h3>Setup</h3>
									<h5>No specific installation required.</h5>
									<ul>
										<li>npm</li>
										<li>ReactJs</li>
										<li>ExpressJS</li>
									</ul>
								</div>
							</section>

							<section id="five">
								<div class="container">
									<h3>Source Code</h3>
									<p>You can view the source code: <a href="https://github.com/ArturSkrzeta/Learn-SQL-Application/tree/main/project">HERE</a></p>
									<p>&nbsp</p>
								</div>
							</section>

					</div>

				<!-- Footer -->
					<section id="footer">
						<div class="container">
							<a href="https://arturskrzeta.github.io/" style="padding-bottom:10px;">Back to Portfolio</a>
						</div>
					</section>

			</div>

		<!-- Scripts -->
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
			<script src="assets/js/scrolla.js"></script>
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
